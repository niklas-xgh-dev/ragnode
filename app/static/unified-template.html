<!DOCTYPE html>
<html>
    <head>
        <title>{{ title }} - Ragnode</title>
        <link rel="stylesheet" href="/static/styles.css">
        <link rel="icon" type="image/svg+xml" href="/static/logo.svg">
        <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
        <link rel="alternate icon" href="/static/favicon.ico">
        <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    </head>
<body>
    <nav class="side-nav">
        <div class="nav-logo-container">
            <img src="/static/logo_v2.svg" alt="Ragnode Logo" class="nav-logo">
        </div>
        <ul class="nav-links">
            <li><a href="/" class="nav-item {% if page == 'home' %}active{% endif %}">Home</a></li>
            {% for bot_id, bot in bots.items() %}
                <li><a href="/{{ bot_id }}-chat" class="nav-item {% if page == bot_id %}active{% endif %}">{{ bot.title }}</a></li>
            {% endfor %}
        </ul>
    </nav>

    <main class="main-content">
        {% if page != 'home' %}
            <div class="expert-header">
                <h1>{{ title }}</h1>
                <p class="expert-description">
                    {{ description }}
                </p>
            </div>

            <div id="chat-container">
                <iframe src="{{ chat_path }}" frameborder="0"></iframe>
            </div>
        {% else %}
            <div class="welcome-container">
                <h1>Welcome to Ragnode</h1>
            </div>
            
            <div class="expert-grid">
                {% for bot_id, bot in bots.items() %}
                    <a href="/{{ bot_id }}-chat" class="expert-card">
                        <h2>{{ bot.title }}</h2>
                        <p>{{ bot.description }}</p>
                    </a>
                {% endfor %}
            </div>
        {% endif %}
    </main>
</body>
</html>